(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,a,t){},13:function(e,a,t){},14:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(5),o=t.n(c),l=(t(11),t(2)),i=t.n(l),s=t(1),d=t(3),u=(t(13),[{id:2643743,name:"London",state:"",country:"GB",coord:{lon:-.12574,lat:51.50853}},{id:2643123,name:"Manchester",state:"",country:"GB",coord:{lon:-2.23743,lat:53.480949}},{id:2655603,name:"Birmingham",state:"",country:"GB",coord:{lon:-1.89983,lat:52.481419}},{id:3333167,name:"Liverpool",state:"",country:"GB",coord:{lon:-2.91667,lat:53.416672}},{id:2654710,name:"Brighton",state:"",country:"GB",coord:{lon:-.13947,lat:50.828381}},{id:2654675,name:"Bristol",state:"",country:"GB",coord:{lon:-2.59665,lat:51.455231}}]);function m(e){var a=e.updateLocation,t=e.getLocation;return r.a.createElement("div",{className:"search-bar"},r.a.createElement("label",{htmlFor:"locations"},"Choose a city: "),r.a.createElement("select",{name:"locations",className:"search-box",id:"locations",autoFocus:!0},u.map((function(e){var t=e.coord,n=t.lon,c=t.lat;return r.a.createElement("option",{key:e.id,value:[c,n],onClick:function(t){return a({coords:t.target.value,name:e.name})}},e.name)}))),r.a.createElement("button",{className:"btn gps-btn",onClick:function(){return t()}},r.a.createElement("span",null,"Use my location")))}function h(e){var a=new Date(0);return a.setUTCSeconds(e),a.toLocaleTimeString()}function E(e){var a=e.current;return e.isLoading?r.a.createElement("div",{className:"current-table"},r.a.createElement("h6",{className:"loading"},"Loading...")):r.a.createElement("div",{className:"current-table"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Sunrise"),r.a.createElement("td",null,h(a.sunrise))),r.a.createElement("tr",null,r.a.createElement("td",null,"Sunset"),r.a.createElement("td",null,h(a.sunset))),r.a.createElement("tr",null,r.a.createElement("td",null,"Feels Like"),r.a.createElement("td",null,Math.round(a.feels_like)+"\xb0C")),r.a.createElement("tr",null,r.a.createElement("td",null,"Desc."),r.a.createElement("td",null,a.weather[0].description)),r.a.createElement("tr",null,r.a.createElement("td",null,"UV Index"),r.a.createElement("td",null,Math.round(a.uvi))),r.a.createElement("tr",null,r.a.createElement("td",null,"Windspeed"),r.a.createElement("td",null,a.wind_speed,"m/s")),r.a.createElement("tr",null,r.a.createElement("td",null,"Humidity"),r.a.createElement("td",null,a.humidity+"%")))))}function p(e){var a=e.dailyWeather,t=e.isLoading,n=e.day;return t?r.a.createElement("div",{className:"weather-tile-display"},r.a.createElement("h6",{className:"loading"},"Loading...")):r.a.createElement("div",{className:"weather-tile-container",key:n,onClick:function(){return console.log(a[n])}},r.a.createElement("h6",{className:"weather-tile-day ellipsis"},function(e){var a=new Date(0);switch(a.setUTCSeconds(e),a.getDay()){case 0:a="Sunday";break;case 1:a="Monday";break;case 2:a="Tuesday";break;case 3:a="Wednesday";break;case 4:a="Thursday";break;case 5:a="Friday";break;case 6:a="Saturday"}return a}(a[n].dt)),r.a.createElement("img",{className:"weather-tile-img",src:"http://openweathermap.org/img/wn/".concat(a[n].weather[0].icon,"@2x.png"),alt:"Weather description"}),r.a.createElement("p",{className:"weather-tile-desc"},a[n].weather[0].description),r.a.createElement("p",{className:"weather-tile-temp"},Math.round(a[n].feels_like.day)+"\xb0C"))}function g(e){var a=e.daily,t=e.current,n=e.isLoading,c=e.location;return r.a.createElement("div",{className:"weather-container flex"},r.a.createElement("div",{className:"current flex"},r.a.createElement("h2",{className:"location-heading"},c.name),r.a.createElement(p,{dailyWeather:a,isLoading:n,day:0}),r.a.createElement(E,{current:t,isLoading:n})),r.a.createElement("div",{className:"five-day-forecast flex"},r.a.createElement("h3",{className:"forecast-header"},"5 Day Forecast"),r.a.createElement(p,{dailyWeather:a,isLoading:n,day:1}),r.a.createElement(p,{dailyWeather:a,isLoading:n,day:2}),r.a.createElement(p,{dailyWeather:a,isLoading:n,day:3}),r.a.createElement(p,{dailyWeather:a,isLoading:n,day:4}),r.a.createElement(p,{dailyWeather:a,isLoading:n,day:5})))}var y=function(){function e(e){switch(e.code){case e.PERMISSION_DENIED:console.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:console.log("Location information is unavailable.");break;case e.TIMEOUT:console.log("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:console.log("An unknown error occurred.");break;default:console.log("Switch failed")}}function a(){return(a=Object(d.a)(i.a.mark((function a(){var t;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t=function(e){var a=e.coords.latitude,t=e.coords.longitude;console.log(a,t),O({coords:"".concat(a,",").concat(t),name:"User Location"})},navigator.geolocation?(console.log("Locating\u2026"),navigator.geolocation.getCurrentPosition(t,e)):e();case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function t(){return(t=Object(d.a)(i.a.mark((function e(a){var t,n,r,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(s.a)(a,2),n=t[0],r=t[1],c="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(parseFloat(n),"&lon=").concat(parseFloat(r),"&exclude=minutely,hourly&units=metric&appid=9feab22816732accf10687c5d41227d7"),e.prev=2,e.next=5,fetch(c);case 5:return o=e.sent,e.next=8,o.json();case 8:l=e.sent,u(l.current),y(l.daily),w(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Whoops! ".concat(e.t0));case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}var c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],u=o[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),p=E[0],y=E[1],f=Object(n.useState)(!0),v=Object(s.a)(f,2),b=v[0],w=v[1],L=Object(n.useState)({coords:"51.50,-0.11",name:"London"}),N=Object(s.a)(L,2),k=N[0],O=N[1];return Object(n.useEffect)((function(){!function(e){t.apply(this,arguments)}(k.coords.split(","))}),[k]),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(m,{updateLocation:O,getLocation:function(){return a.apply(this,arguments)}})),r.a.createElement("main",null,r.a.createElement(g,{current:l,daily:p,isLoading:b,location:k})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,a,t){e.exports=t(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.7735a767.chunk.js.map